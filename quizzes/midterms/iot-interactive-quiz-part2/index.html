<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IoT & Cloud: Network Uplink</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Roboto+Mono:wght@400;500&display=swap');

        :root {
            --iot-orange: #ff6b00;
            --iot-blue: #00d9ff;
            --iot-dark: #0a0b14;
            --iot-panel: #131524;
        }

        body {
            font-family: 'Orbitron', sans-serif;
            background-color: var(--iot-dark);
            color: white;
            overflow-x: hidden;
        }

        .mono { font-family: 'Roboto Mono', monospace; }

        /* UI Components */
        .network-grid {
            background-image: 
                linear-gradient(rgba(255, 107, 0, 0.05) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255, 107, 0, 0.05) 1px, transparent 1px);
            background-size: 40px 40px;
        }

        .glass-hud {
            background: rgba(19, 21, 36, 0.9);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
        }

        /* Option Buttons */
        .node-btn {
            background: linear-gradient(90deg, rgba(255, 255, 255, 0.03) 0%, rgba(255, 255, 255, 0.0) 100%);
            border-left: 4px solid #333;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .node-btn:hover:not(:disabled) {
            background: linear-gradient(90deg, rgba(255, 107, 0, 0.1) 0%, rgba(255, 107, 0, 0) 100%);
            border-left-color: var(--iot-orange);
            padding-left: 2rem;
        }

        .node-btn.correct {
            background: linear-gradient(90deg, rgba(0, 217, 255, 0.2) 0%, rgba(0, 217, 255, 0) 100%);
            border-left-color: var(--iot-blue);
            border-right: 1px solid var(--iot-blue);
        }

        .node-btn.wrong {
            background: linear-gradient(90deg, rgba(255, 0, 60, 0.2) 0%, rgba(255, 0, 60, 0) 100%);
            border-left-color: #ff003c;
        }

        /* Animations */
        @keyframes scanline {
            0% { transform: translateY(-100%); }
            100% { transform: translateY(100%); }
        }

        .scanline-effect::after {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background: linear-gradient(to bottom, transparent 50%, rgba(255, 107, 0, 0.1) 51%, transparent 52%);
            background-size: 100% 4px;
            pointer-events: none;
        }

        @keyframes pulse-network {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 0.8; }
        }

        .animate-pulse-network { animation: pulse-network 2s infinite; }
        
        .hidden-screen { display: none; }

        /* Canvas */
        #network-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            pointer-events: none;
        }
    </style>
</head>
<body class="h-screen flex flex-col relative">

    <!-- Dynamic Background -->
    <canvas id="network-canvas"></canvas>
    <div class="absolute inset-0 network-grid pointer-events-none z-0"></div>

    <!-- MAIN UI LAYER -->
    <div class="z-10 flex flex-col h-full overflow-hidden">
        
        <!-- HEADER -->
        <header class="p-4 flex justify-between items-center border-b border-white/10 bg-black/40 backdrop-blur-sm">
            <div class="flex items-center gap-3">
                <div class="w-3 h-3 bg-orange-500 rounded-full animate-pulse"></div>
                <h1 class="text-xl tracking-widest text-orange-500 font-bold">IoT<span class="text-white">_PROTOCOL</span></h1>
            </div>
            <div class="flex gap-6 text-sm mono">
                <div class="flex flex-col items-end">
                    <span class="text-gray-500 text-xs">SIGNAL STRENGTH</span>
                    <span id="streak-display" class="text-blue-400 font-bold">0 dB</span>
                </div>
                <div class="flex flex-col items-end">
                    <span class="text-gray-500 text-xs">DATA PACKETS</span>
                    <span id="score-display" class="text-orange-400 font-bold">0</span>
                </div>
            </div>
        </header>

        <!-- SCREENS -->
        
        <!-- START SCREEN -->
        <main id="start-screen" class="flex-1 flex flex-col items-center justify-center p-6">
            <div class="glass-hud max-w-2xl w-full p-10 rounded-lg border-t-4 border-orange-500 relative overflow-hidden group">
                <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-orange-500 to-transparent opacity-50"></div>
                
                <div class="mb-8 text-center">
                    <i class="fas fa-network-wired text-6xl text-orange-500 mb-4 drop-shadow-[0_0_10px_rgba(255,107,0,0.5)]"></i>
                    <h2 class="text-4xl font-bold mb-2">NETWORK INITIALIZATION</h2>
                    <p class="text-gray-400 mono text-sm">Target: Study Guide IoT.pdf // Lessons 5 & 6</p>
                </div>

                <div class="grid grid-cols-2 gap-4 mb-8 mono text-sm">
                    <div class="bg-white/5 p-3 border border-white/10">
                        <span class="block text-orange-500 text-xs">PROTOCOL</span>
                        Word-for-Word
                    </div>
                    <div class="bg-white/5 p-3 border border-white/10">
                        <span class="block text-blue-400 text-xs">MODULES</span>
                        Cloud & Security
                    </div>
                </div>

                <button onclick="app.startQuiz()" class="w-full py-5 bg-orange-600 hover:bg-orange-500 text-white font-bold tracking-wider uppercase transition-all clip-path-polygon hover:shadow-[0_0_20px_rgba(255,107,0,0.4)]">
                    Establish Uplink
                </button>
            </div>
        </main>

        <!-- QUIZ SCREEN -->
        <main id="quiz-screen" class="hidden-screen flex-1 flex flex-col p-4 md:p-8 max-w-6xl mx-auto w-full justify-center">
            
            <!-- Progress Line -->
            <div class="w-full h-1 bg-gray-800 mb-8 relative">
                <div id="progress-line" class="absolute top-0 left-0 h-full bg-orange-500 shadow-[0_0_10px_#ff6b00] transition-all duration-500 w-0"></div>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-12 gap-8">
                
                <!-- Question Panel -->
                <div class="lg:col-span-7 glass-hud p-8 rounded-lg border-l-2 border-orange-500 flex flex-col justify-center relative min-h-[300px]">
                    <span id="topic-badge" class="absolute top-4 left-4 text-xs mono text-blue-400 border border-blue-400/30 px-2 py-1">CLOUD COMPUTING</span>
                    
                    <h3 id="question-text" class="text-2xl md:text-3xl font-medium leading-relaxed mt-6">
                        Establishing connection...
                    </h3>

                    <!-- Feedback Indicator (Hidden by default) -->
                    <div id="feedback-text" class="mt-6 font-bold tracking-widest text-xl opacity-0 transition-opacity duration-300 h-6">
                        DATA VERIFIED
                    </div>
                </div>

                <!-- Answers Panel -->
                <div class="lg:col-span-5 flex flex-col gap-3 justify-center" id="options-container">
                    <!-- Buttons injected via JS -->
                </div>
            </div>

        </main>

        <!-- END SCREEN -->
        <main id="end-screen" class="hidden-screen flex-1 flex flex-col items-center justify-center p-6">
            <div class="glass-hud max-w-3xl w-full p-8 rounded-lg text-center border-b-4 border-blue-500">
                <h2 class="text-3xl font-bold mb-6">TRANSMISSION COMPLETE</h2>
                
                <div class="flex justify-center gap-8 mb-8">
                    <div class="text-center">
                        <div class="text-sm text-gray-400 mono">INTEGRITY</div>
                        <div id="final-score" class="text-5xl font-bold text-orange-500">0%</div>
                    </div>
                    <div class="text-center">
                        <div class="text-sm text-gray-400 mono">TOTAL PACKETS</div>
                        <div id="final-points" class="text-5xl font-bold text-blue-400">0</div>
                    </div>
                </div>

                <div class="text-left max-h-60 overflow-y-auto bg-black/20 p-4 rounded mb-6 mono text-sm custom-scrollbar" id="review-log">
                    <!-- Mistakes go here -->
                </div>

                <button onclick="location.reload()" class="px-8 py-3 border border-blue-500 text-blue-400 hover:bg-blue-500 hover:text-white transition-colors uppercase tracking-widest">
                    Reboot System
                </button>
            </div>
        </main>

    </div>

    <script>
        // --- IOT STUDY GUIDE DATA (Extracted Verbatim) ---
        const db = [
            // --- LESSON 6: CLOUD COMPUTING ---
            {
                question: "The 'Old Way' (On-Premises) required a huge upfront investment, known as:",
                correct: "Capital Expenditure (CapEx)",
                wrong: ["Operational Expenditure (OpEx)", "Variable Expenditure (VarEx)", "Cloud Expenditure (CloudEx)"],
                topic: "Cloud Economics"
            },
            {
                question: "The 'New Way' (Cloud Computing) shifts the cost from a large upfront investment to a manageable monthly bill, known as:",
                correct: "Operational Expenditure (OpEx)",
                wrong: ["Capital Expenditure (CapEx)", "Fixed Asset Expenditure", "Physical Infrastructure Cost"],
                topic: "Cloud Economics"
            },
            {
                question: "What is Cloud Computing?",
                correct: "A technology that allows you to store and access data and applications over the internet instead of using your computer's hard drive or a local server.",
                wrong: ["A technology that stores data exclusively on local hard drives.", "A local server management system.", "A physical storage facility for data."],
                topic: "Definition"
            },
            {
                question: "Cloud computing delivers essential computing services—including servers, storage, databases, networking, and software—all over:",
                correct: "The Internet",
                wrong: ["The Intranet", "Local Area Networks (LAN)", "Bluetooth connections"],
                topic: "Definition"
            },
            {
                question: "The Cloud model enables on-demand access to a pool of:",
                correct: "Shared, scalable resources.",
                wrong: ["Fixed, private resources.", "Physical, localized resources.", "Expensive, manual resources."],
                topic: "Definition"
            },
            {
                question: "Which Cloud Deployment Model is dedicated to a single organization?",
                correct: "Private Cloud",
                wrong: ["Public Cloud", "Hybrid Cloud", "Community Cloud"],
                topic: "Deployment Models"
            },
            {
                question: "Services offered by third-party providers over the public internet, open to anyone who wants to use them, are known as:",
                correct: "Public Cloud",
                wrong: ["Private Cloud", "Hybrid Cloud", "Secret Cloud"],
                topic: "Deployment Models"
            },
            {
                question: "A mix of public and private clouds, allowing data and applications to move between the two environments, is called:",
                correct: "Hybrid Cloud",
                wrong: ["Dual Cloud", "Mixed Cloud", "Complex Cloud"],
                topic: "Deployment Models"
            },
            {
                question: "IaaS (Infrastructure as a Service) provides fundamental computing resources like:",
                correct: "Virtual machines, storage, and networking over the internet.",
                wrong: ["Ready-to-use software applications.", "A platform for developers to build apps.", "Physical hardware delivered to your office."],
                topic: "Service Models"
            },
            {
                question: "PaaS (Platform as a Service) delivers a platform allowing developers to build, run, and manage applications without:",
                correct: "The complexity of building and maintaining infrastructure.",
                wrong: ["Writing any code.", "Using the internet.", "Buying software licenses."],
                topic: "Service Models"
            },
            {
                question: "SaaS (Software as a Service) provides ready-to-use software applications over the internet on a:",
                correct: "Subscription basis.",
                wrong: ["One-time purchase basis.", "Rental hardware basis.", "Free open-source basis."],
                topic: "Service Models"
            },
            {
                question: "One reason businesses choose Cloud Computing is 'Cost Efficiency', which significantly reduces operational costs by:",
                correct: "Eliminating expensive physical hardware investments.",
                wrong: ["Eliminating all IT staff.", "Using free electricity.", "Reducing internet usage."],
                topic: "Business Value"
            },
            {
                question: "A challenge of Cloud Computing is 'Vendor Lock-in Risks', which means migrating applications from one provider to another can be:",
                correct: "Complex and costly.",
                wrong: ["Simple and free.", "Automatic and instant.", "Impossible."],
                topic: "Challenges"
            },
            {
                question: "A Data Stream is defined as an existing, continuous, ordered chain of items, ordered implicitly by entrance time or explicitly by:",
                correct: "Timestamp",
                wrong: ["File size", "Alphabetical order", "User ID"],
                topic: "Data Streams"
            },
            {
                question: "A characteristic of Data Streams is that random access is expensive and it requires a:",
                correct: "Single scan algorithm",
                wrong: ["Multi-pass algorithm", "Deep learning algorithm", "Recursive algorithm"],
                topic: "Data Streams"
            },

            // --- LESSON 5: IOT SECURITY ---
            {
                question: "Insecurity by Design means IoT security is based on a cybersecurity strategy to protect IoT devices and the vulnerable networks they connect to from:",
                correct: "Cyber attacks",
                wrong: ["Physical theft", "Power outages", "Water damage"],
                topic: "IoT Security"
            },
            {
                question: "Weak Credentials such as default passwords and hardcoded credentials are industry standard, enabling:",
                correct: "Trivial unauthorized access",
                wrong: ["Secure remote management", "Faster connection speeds", "Better battery life"],
                topic: "IoT Vulnerabilities"
            },
            {
                question: "Supply Chain Risk introduces firmware and component risks that are:",
                correct: "Nearly impossible to detect or remediate at scale",
                wrong: ["Easy to fix with updates", "Visible to the end user", "Only relevant to hardware"],
                topic: "IoT Vulnerabilities"
            },
            {
                question: "A specific IoT security risk involving 'Patching Gaps' means many devices lack:",
                correct: "Secure update mechanisms",
                wrong: ["Power buttons", "Internet connectivity", "User manuals"],
                topic: "IoT Vulnerabilities"
            },
            {
                question: "IoT security ensures the availability, integrity, and:",
                correct: "Confidentiality of your IoT solution",
                wrong: ["Speed of your IoT solution", "Cost of your IoT solution", "Color of your IoT solution"],
                topic: "IoT Definition"
            },
            {
                question: "Vulnerability to watch out for: 'Insecure components' are:",
                correct: "Outdated components that contain vulnerabilities",
                wrong: ["Components made of plastic", "Components that are too small", "Components that consume too much power"],
                topic: "Vulnerabilities"
            },
            {
                question: "Vulnerability to watch out for: 'Unnecessary open ports' can allow hackers to:",
                correct: "Exploit vulnerable services",
                wrong: ["Charge their devices", "Connect via Bluetooth", "See the device LED"],
                topic: "Vulnerabilities"
            },
            {
                question: "Vulnerability to watch out for: 'Hardcoded passwords' means passwords:",
                correct: "Cannot be changed",
                wrong: ["Are too complex", "Are written on the device", "Are encrypted"],
                topic: "Vulnerabilities"
            },
            {
                question: "Best Practice: 'Inventory & Segmentation' means you should know every device on your network and isolate IoT zones with:",
                correct: "Micro-segmentation to limit breach radius",
                wrong: ["Macro-segmentation to increase coverage", "Firewalls to block all traffic", "Physical cages"],
                topic: "Best Practices"
            },
            {
                question: "Best Practice: 'Security by Design' mandates secure development lifecycles, code signing, and:",
                correct: "Cryptographic hardening",
                wrong: ["Faster processors", "Cheaper materials", "Wireless charging"],
                topic: "Best Practices"
            },
            {
                question: "The Human and Organizational Challenge 'Lifecycle Mismatch' means devices operate 5-10 years, but manufacturer support ends in:",
                correct: "2-3 years",
                wrong: ["10-15 years", "6 months", "1 year"],
                topic: "Challenges"
            }
        ];

        // --- QUIZ ENGINE ---
        const app = {
            questions: [],
            currentIdx: 0,
            score: 0,
            streak: 0,
            mistakes: [],

            init: function() {
                // Background Animation
                initNetworkAnimation();
            },

            startQuiz: function() {
                // Shuffle Data
                this.questions = [...db].sort(() => Math.random() - 0.5);
                this.currentIdx = 0;
                this.score = 0;
                this.streak = 0;
                this.mistakes = [];

                document.getElementById('start-screen').classList.add('hidden-screen');
                document.getElementById('quiz-screen').classList.remove('hidden-screen');
                this.renderQuestion();
                this.updateHUD();
            },

            renderQuestion: function() {
                const q = this.questions[this.currentIdx];
                const qText = document.getElementById('question-text');
                const optionsContainer = document.getElementById('options-container');
                const topicBadge = document.getElementById('topic-badge');
                const feedback = document.getElementById('feedback-text');

                // Reset UI
                feedback.style.opacity = '0';
                qText.innerHTML = q.question;
                topicBadge.innerText = q.topic.toUpperCase();
                optionsContainer.innerHTML = '';

                // Prepare Options
                let opts = [q.correct, ...q.wrong];
                opts.sort(() => Math.random() - 0.5);

                opts.forEach(opt => {
                    const btn = document.createElement('button');
                    btn.className = 'node-btn w-full text-left p-4 pl-6 rounded bg-white/5 text-gray-200 font-medium mono text-sm md:text-base relative overflow-hidden';
                    btn.innerHTML = opt;
                    btn.onclick = () => this.handleAnswer(btn, opt === q.correct);
                    optionsContainer.appendChild(btn);
                });

                // Progress Bar
                const progress = ((this.currentIdx) / this.questions.length) * 100;
                document.getElementById('progress-line').style.width = `${progress}%`;
            },

            handleAnswer: function(btn, isCorrect) {
                // Disable all buttons
                const allBtns = document.querySelectorAll('.node-btn');
                allBtns.forEach(b => b.disabled = true);

                const feedback = document.getElementById('feedback-text');
                feedback.style.opacity = '1';

                if (isCorrect) {
                    btn.classList.add('correct');
                    this.streak++;
                    this.score += (100 + (this.streak * 10));
                    feedback.innerText = "PACKET VERIFIED // UPLINK STABLE";
                    feedback.className = "mt-6 font-bold tracking-widest text-xl text-blue-400 h-6 mono";
                } else {
                    btn.classList.add('wrong');
                    this.streak = 0;
                    this.mistakes.push(this.questions[this.currentIdx]);
                    feedback.innerText = "PACKET CORRUPTED // CONNECTION LOST";
                    feedback.className = "mt-6 font-bold tracking-widest text-xl text-red-500 h-6 mono";
                    
                    // Highlight correct answer
                    allBtns.forEach(b => {
                        if (b.innerHTML === this.questions[this.currentIdx].correct) {
                            b.classList.add('correct');
                        }
                    });
                }

                this.updateHUD();

                setTimeout(() => {
                    this.currentIdx++;
                    if (this.currentIdx < this.questions.length) {
                        this.renderQuestion();
                    } else {
                        this.endGame();
                    }
                }, 1800);
            },

            updateHUD: function() {
                document.getElementById('streak-display').innerText = this.streak + " dB";
                document.getElementById('score-display').innerText = this.score;
                
                // Color change based on streak
                const streakDisp = document.getElementById('streak-display');
                if(this.streak > 4) streakDisp.style.color = '#00d9ff'; // Blue
                else streakDisp.style.color = '#ff6b00'; // Orange
            },

            endGame: function() {
                document.getElementById('quiz-screen').classList.add('hidden-screen');
                document.getElementById('end-screen').classList.remove('hidden-screen');

                document.getElementById('final-points').innerText = this.score;
                
                const accuracy = Math.round(((this.questions.length - this.mistakes.length) / this.questions.length) * 100);
                document.getElementById('final-score').innerText = accuracy + "%";

                const log = document.getElementById('review-log');
                log.innerHTML = '';

                if(this.mistakes.length === 0) {
                    log.innerHTML = '<div class="text-green-400">>> ALL SYSTEMS NOMINAL. NO ERRORS DETECTED.</div>';
                } else {
                    this.mistakes.forEach(m => {
                        log.innerHTML += `
                            <div class="mb-4 border-b border-white/10 pb-2">
                                <div class="text-orange-500 text-xs mb-1">>> TOPIC: ${m.topic}</div>
                                <div class="mb-1 text-gray-300">${m.question}</div>
                                <div class="text-blue-400 text-xs">REQ: ${m.correct}</div>
                            </div>
                        `;
                    });
                }
            }
        };

        // --- NETWORK BACKGROUND ANIMATION ---
        function initNetworkAnimation() {
            const canvas = document.getElementById('network-canvas');
            const ctx = canvas.getContext('2d');
            let w, h;
            let nodes = [];
            
            const config = {
                nodeCount: 40,
                connectDistance: 150,
                speed: 0.5
            };

            function resize() {
                w = canvas.width = window.innerWidth;
                h = canvas.height = window.innerHeight;
            }

            class Node {
                constructor() {
                    this.x = Math.random() * w;
                    this.y = Math.random() * h;
                    this.vx = (Math.random() - 0.5) * config.speed;
                    this.vy = (Math.random() - 0.5) * config.speed;
                }

                update() {
                    this.x += this.vx;
                    this.y += this.vy;

                    if (this.x < 0 || this.x > w) this.vx *= -1;
                    if (this.y < 0 || this.y > h) this.vy *= -1;
                }

                draw() {
                    ctx.fillStyle = '#ff6b00';
                    ctx.beginPath();
                    ctx.arc(this.x, this.y, 2, 0, Math.PI * 2);
                    ctx.fill();
                }
            }

            function init() {
                resize();
                for(let i=0; i<config.nodeCount; i++) nodes.push(new Node());
            }

            function animate() {
                ctx.clearRect(0, 0, w, h);
                
                for (let i = 0; i < nodes.length; i++) {
                    nodes[i].update();
                    nodes[i].draw();

                    for (let j = i + 1; j < nodes.length; j++) {
                        const dx = nodes[i].x - nodes[j].x;
                        const dy = nodes[i].y - nodes[j].y;
                        const dist = Math.sqrt(dx * dx + dy * dy);

                        if (dist < config.connectDistance) {
                            ctx.strokeStyle = `rgba(0, 217, 255, ${1 - dist/config.connectDistance})`;
                            ctx.lineWidth = 1;
                            ctx.beginPath();
                            ctx.moveTo(nodes[i].x, nodes[i].y);
                            ctx.lineTo(nodes[j].x, nodes[j].y);
                            ctx.stroke();
                        }
                    }
                }
                requestAnimationFrame(animate);
            }

            window.addEventListener('resize', resize);
            init();
            animate();
        }

        // Start App
        app.init();
    </script>
</body>
</html>